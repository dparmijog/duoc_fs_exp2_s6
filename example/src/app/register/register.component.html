<main class="container mt-5">

  <h1 class="mb-4 text-center">Registro de Usuario</h1>

  <form [formGroup]="registerForm" (ngSubmit)="registrar()" novalidate class="row g-3 justify-content-center">

    <div class="col-md-6">
      <label for="nombre" class="form-label">Nombre</label>
      <input id="nombre" type="text" formControlName="nombre" class="form-control" placeholder="Tu nombre">
      <div class="text-danger" *ngIf="f['nombre'].invalid && f['nombre'].touched">
        Nombre es obligatorio.
      </div>
    </div>

    <div class="col-md-6">
      <label for="usuario" class="form-label">Usuario</label>
      <input id="usuario" type="text" formControlName="usuario" class="form-control" placeholder="Nombre de usuario">
      <div class="text-danger" *ngIf="f['usuario'].invalid && f['usuario'].touched">
        Usuario es obligatorio y debe tener al menos 4 caracteres.
      </div>
    </div>

    <div class="col-md-6">
      <label for="email" class="form-label">Correo electrónico</label>
      <input id="email" type="email" formControlName="email" class="form-control" placeholder="ejemplo@email.com">
      <div class="text-danger" *ngIf="f['email'].invalid && f['email'].touched">
        Ingresa un email válido.
      </div>
    </div>

    <div class="col-md-6">
      <label for="fechaNacimiento" class="form-label">Fecha de nacimiento</label>
      <input id="fechaNacimiento" type="date" formControlName="fechaNacimiento" class="form-control">
      <div class="text-danger" *ngIf="f['fechaNacimiento'].errors?.['edadMinima'] && f['fechaNacimiento'].touched">
        Debes tener al menos 14 años.
      </div>
    </div>

    <div class="col-md-6">
      <label for="password" class="form-label">Contraseña</label>
      <input id="password" type="password" formControlName="password" class="form-control" placeholder="••••••">
      <div class="text-danger" *ngIf="f['password'].invalid && f['password'].touched">
        La contraseña debe tener al menos 4 caracteres.
      </div>
    </div>

    <div class="col-md-6">
      <label for="password2" class="form-label">Repite la contraseña</label>
      <input id="password2" type="password" formControlName="password2" class="form-control" placeholder="••••••">
      <div class="text-danger" *ngIf="registerForm.errors?.['contrasenasNoCoinciden'] && f['password2'].touched">
        Las contraseñas no coinciden.
      </div>
    </div>

    <div class="col-12 text-center">
      <button type="submit" class="btn btn-primary px-5 mt-3">Registrarse</button>
    </div>

    <div class="col-12 text-center">
      <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
      <div *ngIf="exito" class="alert alert-success mt-3">{{ exito }}</div>
    </div>

  </form>

</main>
