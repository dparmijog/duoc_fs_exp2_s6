{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction RecoverComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \" Ingresa un correo v\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RecoverComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.mensaje);\n  }\n}\nfunction RecoverComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error);\n  }\n}\nexport class RecoverComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.mensaje = '';\n    this.error = '';\n  }\n  ngOnInit() {\n    // Inicialización del formulario con validación de email\n    this.recoverForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]]\n    });\n  }\n  recuperar() {\n    this.mensaje = '';\n    this.error = '';\n    // Si el formulario no es válido, detener\n    if (this.recoverForm.invalid) {\n      this.error = 'Por favor, ingresa un correo válido.';\n      return;\n    }\n    const emailIngresado = this.recoverForm.value.email;\n    const usuarios = JSON.parse(localStorage.getItem('usuarios') || '[]');\n    const usuario = usuarios.find(u => u.email === emailIngresado);\n    if (!usuario) {\n      this.error = 'Usuario no encontrado con ese correo.';\n    } else {\n      this.mensaje = `Hola ${usuario.nombre}, tu contraseña es: ${usuario.password}`;\n    }\n  }\n  // Acceso directo desde HTML\n  get f() {\n    return this.recoverForm.controls;\n  }\n  static {\n    this.ɵfac = function RecoverComponent_Factory(t) {\n      return new (t || RecoverComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RecoverComponent,\n      selectors: [[\"app-recover\"]],\n      decls: 14,\n      vars: 6,\n      consts: [[1, \"container\", \"my-5\"], [1, \"text-center\", \"mb-4\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"class\", \"alert alert-success text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger text-center\", 4, \"ngIf\"], [1, \"d-flex\", \"justify-content-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"invalid-feedback\"], [1, \"alert\", \"alert-success\", \"text-center\"], [1, \"alert\", \"alert-danger\", \"text-center\"]],\n      template: function RecoverComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\", 0)(1, \"h1\", 1);\n          i0.ɵɵtext(2, \"Recuperar Contrase\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function RecoverComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.recuperar();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Correo electr\\u00F3nico\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵtemplate(8, RecoverComponent_div_8_Template, 2, 0, \"div\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(9, RecoverComponent_div_9_Template, 2, 1, \"div\", 7);\n          i0.ɵɵtemplate(10, RecoverComponent_div_10_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\n          i0.ɵɵtext(13, \"Recuperar\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.recoverForm);\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"is-invalid\", ctx.f[\"email\"].invalid && ctx.f[\"email\"].touched);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.f[\"email\"].invalid && ctx.f[\"email\"].touched);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.mensaje);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n        }\n      },\n      dependencies: [i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","mensaje","ctx_r2","error","RecoverComponent","constructor","fb","ngOnInit","recoverForm","group","email","required","recuperar","invalid","emailIngresado","value","usuarios","JSON","parse","localStorage","getItem","usuario","find","u","nombre","password","f","controls","ɵɵdirectiveInject","i1","FormBuilder","selectors","decls","vars","consts","template","RecoverComponent_Template","rf","ctx","ɵɵlistener","RecoverComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵtemplate","RecoverComponent_div_8_Template","RecoverComponent_div_9_Template","RecoverComponent_div_10_Template","ɵɵproperty","ɵɵclassProp","touched"],"sources":["/home/rmji/Projects/duoc/duoc_02/fs_exp2_s6/src/app/recover/recover.component.ts","/home/rmji/Projects/duoc/duoc_02/fs_exp2_s6/src/app/recover/recover.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-recover',\n  templateUrl: './recover.component.html',\n  styleUrls: ['./recover.component.css']\n})\nexport class RecoverComponent implements OnInit {\n  recoverForm!: FormGroup; // Formulario reactivo\n  mensaje = '';\n  error = '';\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    // Inicialización del formulario con validación de email\n    this.recoverForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]]\n    });\n  }\n\n  recuperar() {\n    this.mensaje = '';\n    this.error = '';\n\n    // Si el formulario no es válido, detener\n    if (this.recoverForm.invalid) {\n      this.error = 'Por favor, ingresa un correo válido.';\n      return;\n    }\n\n    const emailIngresado = this.recoverForm.value.email;\n    const usuarios = JSON.parse(localStorage.getItem('usuarios') || '[]');\n    const usuario = usuarios.find((u: any) => u.email === emailIngresado);\n\n    if (!usuario) {\n      this.error = 'Usuario no encontrado con ese correo.';\n    } else {\n      this.mensaje = `Hola ${usuario.nombre}, tu contraseña es: ${usuario.password}`;\n    }\n  }\n\n  // Acceso directo desde HTML\n  get f() {\n    return this.recoverForm.controls;\n  }\n}\n","<main class=\"container my-5\">\n  <h1 class=\"text-center mb-4\">Recuperar Contraseña</h1>\n\n  <form [formGroup]=\"recoverForm\" (ngSubmit)=\"recuperar()\" novalidate>\n    <div class=\"mb-3\">\n      <label for=\"email\" class=\"form-label\">Correo electrónico</label>\n      <input\n        type=\"email\"\n        class=\"form-control\"\n        id=\"email\"\n        formControlName=\"email\"\n        [class.is-invalid]=\"f['email'].invalid && f['email'].touched\"\n      >\n      <div *ngIf=\"f['email'].invalid && f['email'].touched\" class=\"invalid-feedback\">\n        Ingresa un correo válido.\n      </div>\n    </div>\n\n    <div *ngIf=\"mensaje\" class=\"alert alert-success text-center\">{{ mensaje }}</div>\n    <div *ngIf=\"error\" class=\"alert alert-danger text-center\">{{ error }}</div>\n\n    <div class=\"d-flex justify-content-center\">\n      <button type=\"submit\" class=\"btn btn-primary\">Recuperar</button>\n    </div>\n  </form>\n</main>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}