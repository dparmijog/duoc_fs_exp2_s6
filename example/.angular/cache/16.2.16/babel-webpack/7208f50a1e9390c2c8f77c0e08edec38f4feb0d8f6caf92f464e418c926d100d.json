{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction PerfilComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.mensaje);\n  }\n}\nexport class PerfilComponent {\n  constructor() {\n    this.sesion = null;\n    this.usuarios = [];\n    this.mensaje = '';\n  }\n  ngOnInit() {\n    const sesionStr = localStorage.getItem('sesion');\n    this.sesion = sesionStr ? JSON.parse(sesionStr) : null;\n    const usuariosStr = localStorage.getItem('usuarios');\n    this.usuarios = usuariosStr ? JSON.parse(usuariosStr) : [];\n    // Buscar usuario completo y sincronizar\n    const usuarioEncontrado = this.usuarios.find(u => u.usuario === this.sesion.usuario);\n    if (usuarioEncontrado) {\n      this.sesion = {\n        ...usuarioEncontrado\n      };\n    }\n  }\n  guardarCambios() {\n    const index = this.usuarios.findIndex(u => u.usuario === this.sesion.usuario);\n    if (index !== -1) {\n      this.usuarios[index] = {\n        ...this.sesion\n      };\n      localStorage.setItem('usuarios', JSON.stringify(this.usuarios));\n      localStorage.setItem('sesion', JSON.stringify(this.sesion));\n      this.mensaje = '✅ Cambios guardados correctamente.';\n    }\n  }\n  static {\n    this.ɵfac = function PerfilComponent_Factory(t) {\n      return new (t || PerfilComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PerfilComponent,\n      selectors: [[\"app-perfil\"]],\n      decls: 30,\n      vars: 6,\n      consts: [[1, \"text-center\", \"mb-4\"], [1, \"card\", \"mx-auto\", 2, \"max-width\", \"400px\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"mb-3\"], [1, \"form-label\", \"fw-bold\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"disabled\", \"\", 1, \"form-control\", 3, \"value\"], [\"type\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"disabled\", \"\", 1, \"form-control\", 3, \"value\"], [1, \"d-grid\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"text-success mt-3 text-center fw-bold\", 4, \"ngIf\"], [1, \"text-success\", \"mt-3\", \"text-center\", \"fw-bold\"]],\n      template: function PerfilComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"Mi Perfil\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"h5\", 3);\n          i0.ɵɵtext(5, \"Bienvenido\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function PerfilComponent_Template_input_ngModelChange_9_listener($event) {\n            return ctx.sesion.nombre = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 5);\n          i0.ɵɵtext(12, \"Usuario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 4)(15, \"label\", 5);\n          i0.ɵɵtext(16, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function PerfilComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.sesion.email = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\", 5);\n          i0.ɵɵtext(20, \"Contrase\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function PerfilComponent_Template_input_ngModelChange_21_listener($event) {\n            return ctx.sesion.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 4)(23, \"label\", 5);\n          i0.ɵɵtext(24, \"Tipo de Usuario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"input\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 11)(27, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function PerfilComponent_Template_button_click_27_listener() {\n            return ctx.guardarCambios();\n          });\n          i0.ɵɵtext(28, \"Guardar Cambios\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(29, PerfilComponent_div_29_Template, 2, 1, \"div\", 13);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngModel\", ctx.sesion.nombre);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.sesion.usuario);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.sesion.email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.sesion.password);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.sesion.tipo);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.mensaje);\n        }\n      },\n      dependencies: [i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","mensaje","PerfilComponent","constructor","sesion","usuarios","ngOnInit","sesionStr","localStorage","getItem","JSON","parse","usuariosStr","usuarioEncontrado","find","u","usuario","guardarCambios","index","findIndex","setItem","stringify","selectors","decls","vars","consts","template","PerfilComponent_Template","rf","ctx","ɵɵlistener","PerfilComponent_Template_input_ngModelChange_9_listener","$event","nombre","ɵɵelement","PerfilComponent_Template_input_ngModelChange_17_listener","email","PerfilComponent_Template_input_ngModelChange_21_listener","password","PerfilComponent_Template_button_click_27_listener","ɵɵtemplate","PerfilComponent_div_29_Template","ɵɵproperty","tipo"],"sources":["/home/rmji/Projects/duoc/duoc_02/fs_exp2_s6/src/app/perfil/perfil.component.ts","/home/rmji/Projects/duoc/duoc_02/fs_exp2_s6/src/app/perfil/perfil.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-perfil',\n  templateUrl: './perfil.component.html',\n  styleUrls: ['./perfil.component.css']\n})\nexport class PerfilComponent implements OnInit {\n  sesion: any = null;\n  usuarios: any[] = [];\n  mensaje = '';\n\n  ngOnInit(): void {\n    const sesionStr = localStorage.getItem('sesion');\n    this.sesion = sesionStr ? JSON.parse(sesionStr) : null;\n\n    const usuariosStr = localStorage.getItem('usuarios');\n    this.usuarios = usuariosStr ? JSON.parse(usuariosStr) : [];\n\n    // Buscar usuario completo y sincronizar\n    const usuarioEncontrado = this.usuarios.find(u => u.usuario === this.sesion.usuario);\n    if (usuarioEncontrado) {\n      this.sesion = { ...usuarioEncontrado };\n    }\n  }\n\n  guardarCambios() {\n    const index = this.usuarios.findIndex(u => u.usuario === this.sesion.usuario);\n    if (index !== -1) {\n      this.usuarios[index] = { ...this.sesion };\n      localStorage.setItem('usuarios', JSON.stringify(this.usuarios));\n      localStorage.setItem('sesion', JSON.stringify(this.sesion));\n      this.mensaje = '✅ Cambios guardados correctamente.';\n    }\n  }\n}\n","<h2 class=\"text-center mb-4\">Mi Perfil</h2>\n\n<div class=\"card mx-auto\" style=\"max-width: 400px;\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Bienvenido</h5>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label fw-bold\">Nombre</label>\n      <input [(ngModel)]=\"sesion.nombre\" type=\"text\" class=\"form-control\">\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label fw-bold\">Usuario</label>\n      <input [value]=\"sesion.usuario\" type=\"text\" class=\"form-control\" disabled>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label fw-bold\">Email</label>\n      <input [(ngModel)]=\"sesion.email\" type=\"email\" class=\"form-control\">\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label fw-bold\">Contraseña</label>\n      <input [(ngModel)]=\"sesion.password\" type=\"password\" class=\"form-control\">\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label fw-bold\">Tipo de Usuario</label>\n      <input [value]=\"sesion.tipo\" class=\"form-control\" disabled>\n    </div>\n\n    <div class=\"d-grid\">\n      <button class=\"btn btn-primary\" (click)=\"guardarCambios()\">Guardar Cambios</button>\n    </div>\n\n    <div class=\"text-success mt-3 text-center fw-bold\" *ngIf=\"mensaje\">{{ mensaje }}</div>\n  </div>\n</div>\n"],"mappings":";;;;;ICmCIA,EAAA,CAAAC,cAAA,cAAmE;IAAAD,EAAA,CAAAE,MAAA,GAAa;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IAAnBH,EAAA,CAAAI,SAAA,GAAa;IAAbJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAAC,OAAA,CAAa;;;AD5BpF,OAAM,MAAOC,eAAe;EAL5BC,YAAA;IAME,KAAAC,MAAM,GAAQ,IAAI;IAClB,KAAAC,QAAQ,GAAU,EAAE;IACpB,KAAAJ,OAAO,GAAG,EAAE;;EAEZK,QAAQA,CAAA;IACN,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAChD,IAAI,CAACL,MAAM,GAAGG,SAAS,GAAGG,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,GAAG,IAAI;IAEtD,MAAMK,WAAW,GAAGJ,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACpD,IAAI,CAACJ,QAAQ,GAAGO,WAAW,GAAGF,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,GAAG,EAAE;IAE1D;IACA,MAAMC,iBAAiB,GAAG,IAAI,CAACR,QAAQ,CAACS,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAK,IAAI,CAACZ,MAAM,CAACY,OAAO,CAAC;IACpF,IAAIH,iBAAiB,EAAE;MACrB,IAAI,CAACT,MAAM,GAAG;QAAE,GAAGS;MAAiB,CAAE;;EAE1C;EAEAI,cAAcA,CAAA;IACZ,MAAMC,KAAK,GAAG,IAAI,CAACb,QAAQ,CAACc,SAAS,CAACJ,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAK,IAAI,CAACZ,MAAM,CAACY,OAAO,CAAC;IAC7E,IAAIE,KAAK,KAAK,CAAC,CAAC,EAAE;MAChB,IAAI,CAACb,QAAQ,CAACa,KAAK,CAAC,GAAG;QAAE,GAAG,IAAI,CAACd;MAAM,CAAE;MACzCI,YAAY,CAACY,OAAO,CAAC,UAAU,EAAEV,IAAI,CAACW,SAAS,CAAC,IAAI,CAAChB,QAAQ,CAAC,CAAC;MAC/DG,YAAY,CAACY,OAAO,CAAC,QAAQ,EAAEV,IAAI,CAACW,SAAS,CAAC,IAAI,CAACjB,MAAM,CAAC,CAAC;MAC3D,IAAI,CAACH,OAAO,GAAG,oCAAoC;;EAEvD;;;uBA3BWC,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAAoB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCP5BlC,EAAA,CAAAC,cAAA,YAA6B;UAAAD,EAAA,CAAAE,MAAA,gBAAS;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAE3CH,EAAA,CAAAC,cAAA,aAAoD;UAEzBD,EAAA,CAAAE,MAAA,iBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAEtCH,EAAA,CAAAC,cAAA,aAAkB;UACkBD,EAAA,CAAAE,MAAA,aAAM;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAChDH,EAAA,CAAAC,cAAA,eAAoE;UAA7DD,EAAA,CAAAoC,UAAA,2BAAAC,wDAAAC,MAAA;YAAA,OAAAH,GAAA,CAAAzB,MAAA,CAAA6B,MAAA,GAAAD,MAAA;UAAA,EAA2B;UAAlCtC,EAAA,CAAAG,YAAA,EAAoE;UAGtEH,EAAA,CAAAC,cAAA,cAAkB;UACkBD,EAAA,CAAAE,MAAA,eAAO;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACjDH,EAAA,CAAAwC,SAAA,gBAA0E;UAC5ExC,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAAC,cAAA,cAAkB;UACkBD,EAAA,CAAAE,MAAA,aAAK;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UAC/CH,EAAA,CAAAC,cAAA,gBAAoE;UAA7DD,EAAA,CAAAoC,UAAA,2BAAAK,yDAAAH,MAAA;YAAA,OAAAH,GAAA,CAAAzB,MAAA,CAAAgC,KAAA,GAAAJ,MAAA;UAAA,EAA0B;UAAjCtC,EAAA,CAAAG,YAAA,EAAoE;UAGtEH,EAAA,CAAAC,cAAA,cAAkB;UACkBD,EAAA,CAAAE,MAAA,uBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACpDH,EAAA,CAAAC,cAAA,gBAA0E;UAAnED,EAAA,CAAAoC,UAAA,2BAAAO,yDAAAL,MAAA;YAAA,OAAAH,GAAA,CAAAzB,MAAA,CAAAkC,QAAA,GAAAN,MAAA;UAAA,EAA6B;UAApCtC,EAAA,CAAAG,YAAA,EAA0E;UAG5EH,EAAA,CAAAC,cAAA,cAAkB;UACkBD,EAAA,CAAAE,MAAA,uBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACzDH,EAAA,CAAAwC,SAAA,iBAA2D;UAC7DxC,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAAC,cAAA,eAAoB;UACcD,EAAA,CAAAoC,UAAA,mBAAAS,kDAAA;YAAA,OAASV,GAAA,CAAAZ,cAAA,EAAgB;UAAA,EAAC;UAACvB,EAAA,CAAAE,MAAA,uBAAe;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAGrFH,EAAA,CAAA8C,UAAA,KAAAC,+BAAA,kBAAsF;UACxF/C,EAAA,CAAAG,YAAA,EAAM;;;UA5BKH,EAAA,CAAAI,SAAA,GAA2B;UAA3BJ,EAAA,CAAAgD,UAAA,YAAAb,GAAA,CAAAzB,MAAA,CAAA6B,MAAA,CAA2B;UAK3BvC,EAAA,CAAAI,SAAA,GAAwB;UAAxBJ,EAAA,CAAAgD,UAAA,UAAAb,GAAA,CAAAzB,MAAA,CAAAY,OAAA,CAAwB;UAKxBtB,EAAA,CAAAI,SAAA,GAA0B;UAA1BJ,EAAA,CAAAgD,UAAA,YAAAb,GAAA,CAAAzB,MAAA,CAAAgC,KAAA,CAA0B;UAK1B1C,EAAA,CAAAI,SAAA,GAA6B;UAA7BJ,EAAA,CAAAgD,UAAA,YAAAb,GAAA,CAAAzB,MAAA,CAAAkC,QAAA,CAA6B;UAK7B5C,EAAA,CAAAI,SAAA,GAAqB;UAArBJ,EAAA,CAAAgD,UAAA,UAAAb,GAAA,CAAAzB,MAAA,CAAAuC,IAAA,CAAqB;UAOsBjD,EAAA,CAAAI,SAAA,GAAa;UAAbJ,EAAA,CAAAgD,UAAA,SAAAb,GAAA,CAAA5B,OAAA,CAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}